# AI面接練習・評価プラットフォーム 基本設計書

## 目次

### 1 プロジェクト概要

- 1.1 目的
- 1.2 主な目標
- 1.3 ターゲットユーザー

### 2 システム概要

- 2.1 システム全体図
- 2.2 主要機能

### 3 技術スタック

- 3.1 確定した技術構成
- 3.2 技術選定理由
- 3.3 対応プラットフォーム

### 4 AWSインフラ構成

- 4.1 アーキテクチャ図
- 4.2 コンポーネント詳細
- 4.3 EC2インスタンス構成
- 4.4 セキュリティグループ設計
- 4.5 コスト

### 5 プロジェクト構成

- 5.1 リポジトリ構成
- 5.2 命名規約
- 5.3 テスト構成
- 5.4 CI/CD構成

### 6 画面設計

- 6.1 画面一覧
- 6.2 外国人ユーザー向け画面
- 6.3 管理者向け画面
- 6.4 画面遷移の説明
- 6.5 認証方式

### 7 評価ロジック

- 7.0 本設計書の位置づけ
- 7.1 評価基準
- 7.2 評価カテゴリ
- 7.3 スコアリング計算式
- 7.4 GPT-4o評価プロンプト
- 7.5 苦手分析の仕組み
- 7.6 評価フロー
- 7.7 採用適性評価との統合
- 7.8 関連設計書
- 7.9 JLPTレベル乖離検出
- 7.10 適応型JLPTレベル調整
- 7.11 企業向け統合評価

### 8 開発ロードマップ

- 8.1 フェーズ概要
- 8.2 Phase 1: 基盤構築（4週間 / 80人日）
- 8.3 Phase 2: HeyGenアバター・音声認識統合（5週間 / 100人日）
- 8.4 Phase 3: 評価機能・苦手分析・外部連携（4週間 / 80人日）
- 8.5 Phase 4: テスト・本番リリース準備（3週間 / 60人日）
- 8.6 テスト戦略
- 8.7 依存関係図
- 8.8 リスクと対策

### 9 外部API連携

- 9.0 外部API連携構成図
- 9.1 OpenAI GPT-4o
- 9.2 Google Cloud Speech-to-Text
- 9.3 HeyGen Streaming Avatar
- 9.4 mintoku work（連携サービス）

### 10 API仕様

- 10.1 API設計方針
- 10.2 認証API
- 10.3 面接セッションAPI
- 10.4 評価API
- 10.5 質問API
- 10.6 外部API連携（mintoku work）
- 10.7 エラーレスポンス形式
- 10.8 管理者向けAPI
- 10.9 顔分析API
- 10.10 セッション管理

### 11 データベーススキーマ

- 11.1 テーブル一覧
- 11.2 ER図
- 11.3 テーブル定義
- 11.4 インデックス設計
- 11.5 シナリオ・質問バンク関連テーブル
- 11.6 シナリオ関連インデックス
- 11.7 データ整合性ルール

### 12 面接フロー制御

- 12.1 面接セッション全体フロー
- 12.2 HeyGen Streaming Avatar統合
- 12.3 JLPTレベル別質問取得（API連携）
- 12.4 質問・回答ループ
- 12.5 Google Cloud STT統合
- 12.6 セッション完了処理
- 12.7 エラーハンドリング
- 12.8 状態管理
- 12.9 適応型JLPTレベル調整フロー
- 12.10 業界別学習計画機能

### 13 面接シナリオ設計

- 13.0 本設計書の位置づけ
- 13.1 概要
- 13.2 外国人採用で求められる人材像
- 13.3 面接シナリオ構造
- 13.4 質問バンク設計
- 13.5 評価基準（採用適性評価）
- 13.6 シナリオテンプレート
- 13.7 HeyGen統合
- 13.8 データベーステーブル
- 13.9 参考資料
- 13.10 日本語能力評価との統合

### 14 セキュリティ設計

- 14.1 セキュリティ多層防御アーキテクチャ
- 14.2 認証フロー
- 14.3 JWT仕様
- 14.4 CORS設定
- 14.5 API認証
- 14.6 mintoku work連携セキュリティ
- 14.7 データ保護
- 14.8 セキュリティヘッダー
- 14.9 レート制限
- 14.10 監査ログ
- 14.11 WAF（Web Application Firewall）
- 14.12 SSRF対策
- 14.13 依存関係管理

### 15 監視設計

- 15.1 監視方針
- 15.2 メトリクス監視
- 15.3 ログ監視
- 15.4 アラート設計
- 15.5 ダッシュボード
- 15.6 コスト監視
- 15.7 障害対応フロー
- 15.8 ビジネスメトリクス監視

---

## 改訂履歴

| 日付       | バージョン | 内容     |
| ---------- | ---------- | -------- |
| 2025-01-30 | 0.1        | 初版作成 |
