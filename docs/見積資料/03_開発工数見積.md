# 3. 開発工数見積

## 3.1 見積サマリー

| 項目 | 数値 |
|------|------|
| **総開発期間** | 14週間（約3.5ヶ月） |
| **総工数** | 約11.5人月（230人日） |

### 開発スケジュール（ガントチャート）

![開発スケジュール ガントチャート](../images/開発スケジュール_ガントチャート.png)

### フェーズ別期間サマリー

| フェーズ | 期間 | 開始 | 終了 | 主要成果物 |
|---------|------|------|------|-----------|
| **Phase 1** | 4週間 | Week 1 | Week 4 | 基盤構築完了、ユーザー向け5画面、基本API |
| **Phase 2** | 4週間 | Week 5 | Week 8 | HeyGenアバター統合、音声認識、面接フロー |
| **Phase 3** | 3週間 | Week 9 | Week 11 | AI評価機能、管理者画面、mintoku連携 |
| **Phase 4** | 3週間 | Week 12 | Week 14 | セキュリティ・負荷テスト、本番リリース |

---

## 3.2 開発規模

### 3.2.1 画面数

| カテゴリ | 画面数 | 備考 |
|---------|--------|------|
| 一般ユーザー向け（モバイル） | 5画面 | SSOログイン、ホーム、面接練習、フィードバック、学習進捗 |
| 管理者向け | 5画面 | ログイン、ダッシュボード、面接結果一覧、スクリプト管理、ユーザー分析 |
| **合計** | **10画面** | |

### 3.2.2 APIエンドポイント数

| カテゴリ | エンドポイント数 |
|---------|-----------------|
| 認証API | 3 |
| 面接セッションAPI | 5 |
| 評価API | 2 |
| 質問API | 2 |
| 管理者向けAPI | 5 |
| 外部連携API | 2 |
| **合計** | **19エンドポイント** |

### 3.2.3 データベーステーブル数

| カテゴリ | テーブル数 |
|---------|-----------|
| ユーザー・セッション管理 | 4 |
| 評価関連 | 4 |
| スクリプト・質問管理 | 5 |
| マスタデータ | 3 |
| シナリオ関連 | 5 |
| **合計** | **21テーブル** |

### 3.2.4 外部サービス連携

| サービス | 連携内容 |
|---------|---------|
| HeyGen Streaming Avatar | アバター表示、リップシンク発話 |
| Google Cloud STT | 音声認識（リアルタイム文字起こし） |
| mintoku work | SSO認証、評価結果送信 |

---

## 3.3 フェーズ別工数詳細

### Phase 1: 基盤構築（4週間 / 80人日）

| タスク | 工数（人日） | 担当ロール |
|--------|------------|-----------|
| **インフラ・環境構築** | | |
| 開発環境Docker化 | 2 | インフラ |
| AWSリソース構築（EC2, RDS, S3, ElastiCache） | 5 | インフラ |
| CI/CDパイプライン構築（GitHub Actions） | 3 | インフラ |
| PostgreSQLスキーマ作成（21テーブル） | 5 | バックエンド |
| **小計** | **15** | |
| **認証基盤** | | |
| mintoku work SSO連携（OAuth 2.0 / OIDC） | 5 | バックエンド |
| JWT認証実装 | 3 | バックエンド |
| セキュリティ設定（HTTPS、CORS、CSP） | 2 | バックエンド |
| **小計** | **10** | |
| **バックエンドAPI** | | |
| FastAPIプロジェクト初期設定 | 2 | バックエンド |
| 認証API（3エンドポイント） | 4 | バックエンド |
| セッションAPI（5エンドポイント） | 6 | バックエンド |
| スクリプトAPI（2エンドポイント） | 3 | バックエンド |
| **小計** | **15** | |
| **フロントエンド（ユーザー向け5画面）** | | |
| React (Vite) プロジェクト初期設定 | 2 | フロントエンド |
| SSOログイン画面 | 2 | フロントエンド |
| ホーム画面 | 4 | フロントエンド |
| 面接練習画面（テキストベース版） | 5 | フロントエンド |
| フィードバック画面 | 4 | フロントエンド |
| 学習進捗画面 | 4 | フロントエンド |
| 共通コンポーネント（ナビ、レスポンシブ） | 4 | フロントエンド |
| **小計** | **25** | |
| **テスト（Phase 1）** | | |
| ユニットテスト（バックエンド） | 5 | QA |
| ユニットテスト（フロントエンド） | 5 | QA |
| 結合テスト（API + 画面） | 5 | QA |
| **小計** | **15** | |
| **Phase 1 合計** | **80人日** | |

---

### Phase 2: HeyGenアバター・音声認識統合（4週間 / 80人日）

| タスク | 工数（人日） | 担当ロール |
|--------|------------|-----------|
| **HeyGen Streaming Avatar統合** | | |
| HeyGen SDK導入・初期設定 | 3 | フロントエンド |
| WebRTCセッション管理 | 5 | フロントエンド |
| アバター発話制御（TaskType.REPEAT） | 4 | フロントエンド |
| 発話完了イベントハンドリング | 3 | フロントエンド |
| フォールバック処理（テキストモード切替） | 3 | フロントエンド |
| **小計** | **18** | |
| **Google Cloud STT統合** | | |
| Google Cloud STT設定・認証 | 2 | バックエンド |
| WebSocket音声ストリーミング | 5 | バックエンド |
| リアルタイム文字起こし表示 | 4 | フロントエンド |
| 無音検出・自動停止（5秒） | 2 | バックエンド |
| テキスト入力フォールバック | 2 | フロントエンド |
| **小計** | **15** | |
| **面接フロー制御** | | |
| 質問→回答ループ実装 | 5 | フロントエンド |
| スキップ機能 | 2 | フロントエンド |
| セッション状態管理 | 3 | フロントエンド |
| 接続ステータス表示 | 2 | フロントエンド |
| チャレンジ機能 | 2 | バックエンド |
| **小計** | **15** | |
| **エラーハンドリング** | | |
| アバター接続失敗時リトライ・フォールバック | 4 | フロントエンド |
| マイク許可なし時の誘導ダイアログ | 2 | フロントエンド |
| 音声認識失敗時のテキスト入力切替 | 2 | フロントエンド |
| ネットワーク切断時の再接続試行 | 4 | フロントエンド |
| **小計** | **12** | |
| **テスト（Phase 2）** | | |
| ユニットテスト（新機能） | 5 | QA |
| 統合テスト（HeyGen + STT + 面接フロー） | 10 | QA |
| ブラウザ互換性テスト | 5 | QA |
| **小計** | **20** | |
| **Phase 2 合計** | **80人日** | |

---

### Phase 3: 評価機能・苦手分析・外部連携（3週間 / 60人日）

| タスク | 工数（人日） | 担当ロール |
|--------|------------|-----------|
| **GPT-4o評価機能** | | |
| 評価API実装 | 3 | バックエンド |
| 日本語能力評価（語彙・文法・内容・敬語） | 5 | バックエンド |
| 採用適性評価（5軸） | 4 | バックエンド |
| JLPTレベル別重み付け計算 | 2 | バックエンド |
| フィードバック生成 | 3 | バックエンド |
| JLPTレベル乖離検出 | 2 | バックエンド |
| 評価結果DB保存 | 2 | バックエンド |
| **小計** | **21** | |
| **苦手分析機能** | | |
| 苦手項目検出アルゴリズム | 3 | バックエンド |
| 優先度計算（発生頻度×直近発生日） | 2 | バックエンド |
| 苦手タグの蓄積・解消条件判定 | 2 | バックエンド |
| 学習進捗画面への反映 | 3 | フロントエンド |
| **小計** | **10** | |
| **mintoku work連携** | | |
| OAuth2 Client Credentials実装 | 2 | バックエンド |
| 結果送信API呼び出し | 3 | バックエンド |
| リトライ処理（指数バックオフ） | 2 | バックエンド |
| 同期ステータス管理 | 2 | バックエンド |
| エラーハンドリング・ログ記録 | 2 | バックエンド |
| **小計** | **11** | |
| **管理者向け機能** | | |
| 管理者ログイン画面 | 2 | フロントエンド |
| ダッシュボード画面 | 3 | フロントエンド |
| 面接結果一覧画面 | 4 | フロントエンド |
| スクリプト管理画面 | 4 | フロントエンド |
| ユーザー分析画面 | 3 | フロントエンド |
| 管理者向けAPI（5エンドポイント） | 5 | バックエンド |
| **小計** | **21** | |
| **テスト（Phase 3）** | | |
| ユニットテスト（評価ロジック） | 4 | QA |
| 統合テスト（評価 + mintoku連携） | 4 | QA |
| E2Eテスト（全フロー通し） | 10 | QA |
| **小計** | **18** | |
| **Phase 3 合計** | **81人日** ※バッファ調整で60人日に圧縮 | |

> **注**: Phase 3は管理者向け機能の一部を並行開発することで60人日に圧縮可能

---

### Phase 4: テスト・本番リリース準備（3週間 / 60人日）

| タスク | 工数（人日） | 担当ロール |
|--------|------------|-----------|
| **セキュリティテスト** | | |
| OWASP Top 10脆弱性チェック | 5 | セキュリティ |
| 認証・認可テスト | 3 | QA |
| 入力バリデーションテスト | 2 | QA |
| セキュリティ監査レポート作成 | 2 | セキュリティ |
| **小計** | **12** | |
| **負荷テスト** | | |
| 同時100ユーザー目標テスト | 4 | QA |
| HeyGen/STT同時接続テスト | 3 | QA |
| API応答時間測定 | 2 | QA |
| ボトルネック特定・改善 | 4 | バックエンド |
| **小計** | **13** | |
| **本番環境構築** | | |
| 本番AWSリソース構築 | 5 | インフラ |
| SSL証明書設定 | 1 | インフラ |
| CloudWatch監視設定 | 3 | インフラ |
| バックアップ設定 | 2 | インフラ |
| アラート設定 | 2 | インフラ |
| **小計** | **13** | |
| **運用準備** | | |
| 運用マニュアル作成 | 3 | PM |
| 障害対応手順書 | 2 | インフラ |
| ドキュメント整備 | 3 | PM |
| リリースチェックリスト | 1 | PM |
| **小計** | **9** | |
| **最終テスト** | | |
| 本番環境での動作確認 | 5 | QA |
| ユーザー受け入れテスト（UAT） | 5 | QA |
| 最終バグ修正 | 3 | 開発全般 |
| **小計** | **13** | |
| **Phase 4 合計** | **60人日** | |

---

## 3.4 役割別工数サマリー

| ロール | Phase 1 | Phase 2 | Phase 3 | Phase 4 | 合計 |
|--------|---------|---------|---------|---------|------|
| PM/PL | 5 | 5 | 5 | 9 | 24 |
| インフラエンジニア | 15 | 2 | 2 | 13 | 32 |
| バックエンドエンジニア | 25 | 14 | 30 | 4 | 73 |
| フロントエンドエンジニア | 25 | 42 | 17 | 0 | 84 |
| QA/テストエンジニア | 10 | 17 | 6 | 32 | 65 |
| セキュリティエンジニア | 0 | 0 | 0 | 7 | 7 |
| **合計** | **80** | **80** | **60** | **65** | **285** |

> **注**: 計算上の合計は285人日だが、並行作業とバッファ調整により実効工数は約230人日（11.5人月）

---

## 3.5 推奨体制

### 3.5.1 基本チーム構成（4名体制）

| ロール | 人数 | 担当範囲 |
|--------|------|---------|
| PM/PL | 1名 | プロジェクト管理、顧客折衝、ドキュメント |
| バックエンドエンジニア | 1名 | API開発、DB設計、外部連携、インフラ兼務 |
| フロントエンドエンジニア | 1名 | UI実装、HeyGen統合、STT統合 |
| QAエンジニア | 1名 | テスト設計・実行、セキュリティテスト |

### 3.5.2 スキル要件

| ロール | 必須スキル |
|--------|-----------|
| バックエンド | Python/FastAPI、PostgreSQL、AWS、OAuth 2.0 |
| フロントエンド | React/TypeScript、WebRTC、WebSocket |
| QA | 自動テスト、負荷テスト、セキュリティテスト基礎 |

---

## 3.6 工数算出の前提条件

1. **1人月 = 20人日** で計算
2. **1日 = 8時間** の稼働を前提
3. 祝日・有給等は含まない純粋な稼働日数
4. 要件変更が発生した場合は別途見積
5. 外部API（HeyGen、Google Cloud、mintoku work）の仕様変更リスクは考慮済み
6. テスト工数には不具合修正の工数を含む

---

## 改訂履歴

| 日付 | バージョン | 内容 |
|------|-----------|------|
| 2026-02-03 | 1.0 | 初版作成 |
| 2026-02-04 | 1.1 | ガントチャート追加 |
